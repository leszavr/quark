# ๐ ะะปะฐััะพัะผะฐ Quark - ะะะก-ะฐััะธัะตะบัััะฐ ะฝะพะฒะพะณะพ ะฟะพะบะพะปะตะฝะธั

> **ะะพะดัะปัะฝะฐั, ะะ-ะฝะฐัะธะฒะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ะฑะปะพะณะพะฒ ะธ ะผะตััะตะฝะดะถะตัะฐ**  
> ะกะฟัะพะตะบัะธัะพะฒะฐะฝะฐ ั ััะฐััะธะตะผ ะะ ะฟะพ ะฟัะธะฝัะธะฟั ะะตะถะดัะฝะฐัะพะดะฝะพะน ะะพัะผะธัะตัะบะพะน ะกัะฐะฝัะธะธ

[![Architecture: ะะะก](https://img.shields.io/badge/Architecture-ะะะก--ะผะพะดัะปัะฝะฐั-blue.svg)](docs/architecture/)
[![Security: Vault+JWT](https://img.shields.io/badge/Security-Vault+JWT-green.svg)](docs/security/)
[![Infrastructure: Docker](https://img.shields.io/badge/Infrastructure-Docker-blue.svg)](docker-compose.yml)
[![Status: Production Ready](https://img.shields.io/badge/Status-Production%20Ready-brightgreen.svg)](#)

## ๐ ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

### โญ Vault + JWT Security Stack
- **HashiCorp Vault** ะธะฝัะตะณัะฐัะธั ะดะปั ะฑะตะทะพะฟะฐัะฝะพะณะพ ััะฐะฝะตะฝะธั ัะตะบัะตัะพะฒ
- **ะขัะตัััะพะฒะฝะตะฒะฐั ัะธััะตะผะฐ ัะพะบะตะฝะพะฒ**: User (24h), Service (24h), Hub (48h)
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ัะพัะฐัะธั JWT ัะตะบัะตัะพะฒ** ะบะฐะถะดัะต 30 ะผะธะฝัั
- **Event-driven ะฐััะธัะตะบัััะฐ** ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน ะพ ัะพัะฐัะธะธ
- **Graceful secret transition** ะฑะตะท ะฟัะพััะพั ัะตัะฒะธัะพะฒ

### ๐๏ธ ะะพะดัะปัะฝะฐั ะฐััะธัะตะบัััะฐ ะะะก
- **Plugin Hub** - ัะตะฝััะฐะปัะฝัะน ัััะบะพะฒะพัะฝัะน ัะทะตะป ะดะปั ะฒัะตั ะผะพะดัะปะตะน
- **ะะธะบัะพัะตัะฒะธัะฝะฐั ะฐััะธัะตะบัััะฐ** ั ะฝะตะทะฐะฒะธัะธะผัะผะธ ะผะพะดัะปัะผะธ
- **Docker-based deployment** ั ะพัะบะตัััะฐัะธะตะน ัะตัะตะท docker-compose
- **Service Discovery** ะธ ะฐะฒัะพะผะฐัะธัะตัะบะฐั ัะตะณะธัััะฐัะธั ะผะพะดัะปะตะน
- **Health Monitoring** ั ัะฐััะธัะตะฝะฝะพะน ะดะธะฐะณะฝะพััะธะบะพะน

## ๐๏ธ ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ

```
quark/
โโโ ๐ services/
โ   โโโ ๐ฏ plugin-hub/                     # โญ ะฆะตะฝััะฐะปัะฝัะน ัััะบะพะฒะพัะฝัะน ัะทะตะป
โ   โ   โโโ src/
โ   โ   โ   โโโ index.ts                   # ะัะฝะพะฒะฝะพะน ัะตัะฒะตั
โ   โ   โ   โโโ quark-mks-sdk.ts          # TypeScript SDK
โ   โ   โ   โโโ ServiceRegistry.ts         # ะะตะตััั ะผะพะดัะปะตะน
โ   โ   โ   โโโ HealthMonitor.ts          # ะะพะฝะธัะพัะธะฝะณ ะทะดะพัะพะฒัั
โ   โ   โ   โโโ EventBus.ts               # NATS ะธะฝัะตะณัะฐัะธั
โ   โ   โโโ package.json                   # JWT deps: jsonwebtoken, bcryptjs
โ   โ   โโโ Dockerfile                     # ะะพะฝัะตะนะฝะตัะธะทะฐัะธั
โ   โโโ ๐ auth-service/                   # โญ JWT + Vault ะััะตะฝัะธัะธะบะฐัะธั โ ะะะะะะจะะ
โ   โ   โโโ src/
โ   โ   โ   โโโ main.ts                    # Bootstrap + Plugin Hub ัะตะณะธัััะฐัะธั
โ   โ   โ   โโโ app.module.ts             # ะะพะดัะปั ั VaultModule ะธ JwtConfigService
โ   โ   โ   โโโ auth/                      # ะะพะดัะปั ะฐััะตะฝัะธัะธะบะฐัะธะธ + DynamicJwtService
โ   โ   โ   โโโ vault/                     # VaultService ั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ัะพัะฐัะธะตะน
โ   โ   โ   โโโ users/                     # ะะพะดัะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
โ   โ   โ   โโโ common/dto/               # DTO ะดะปั ััะตั ัะธะฟะพะฒ ัะพะบะตะฝะพะฒ
โ   โ   โโโ Dockerfile                     # ะัะปััะธััะฐะดะธะนะฝะฐั ัะฑะพัะบะฐ Node.js 20
โ   โ   โโโ package.json                   # NestJS + TypeORM + JWT + Vault
โ   โโโ ๐ monitoring/                     # โญ ะะพัะฟะพัะฐัะธะฒะฝัะน ะผะพะฝะธัะพัะธะฝะณ โ ะะะะะะจะะ
โ   โ   โโโ dashboard.html                 # ะกััะพะณะธะน ะบะพัะฟะพัะฐัะธะฒะฝัะน ะธะฝัะตััะตะนั
โ   โ   โโโ server.js                      # Express API ัะตัะฒะตั
โ   โ   โโโ package.json                   # Minimal dependencies
โ   โโโ ๐ blog-service/                   # ะะปะพะณ-ะฟะปะฐััะพัะผะฐ (ะฟะปะฐะฝะธััะตััั)  
โ   โโโ ๐ค user-service/                   # ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
โ   โโโ ๐ฌ messaging-service/              # WebSocket ะผะตััะตะฝะดะถะตั
โ   โโโ ๐ค ai-orchestrator/                # ะะ-ะฐะณะตะฝัั ะธ LLM
โโโ ๐๏ธ infra/
โ   โโโ ๐จ quark-ui/                       # โญ Admin Console โ ะะะะะะจะะ
โ   โ   โโโ src/                           # Vue.js + Vite ะฟัะธะปะพะถะตะฝะธะต
โ   โ   โโโ Dockerfile                     # Nginx + Alpine
โ   โ   โโโ package.json                   # Vue.js ecosystem
โ   โโโ ๐ก monitoring/                     # Grafana + Prometheus
โ   โโโ ๐ vault/                          # HashiCorp Vault ะบะพะฝัะธะณััะฐัะธั
โ   โโโ ๐ plugin-hub/                     # ะะพะฝัะธะณััะฐัะธั ัะตะฝััะฐะปัะฝะพะณะพ ัะทะปะฐ
โโโ ๐ docs/                               # ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
โ   โโโ architecture/                      # ะััะธัะตะบัััะฝัะต ัะตัะตะฝะธั
โ   โโโ security/                          # ะะพะบัะผะตะฝัะฐัะธั ะฟะพ ะฑะตะทะพะฟะฐัะฝะพััะธ
โ   โโโ api/                              # API ะดะพะบัะผะตะฝัะฐัะธั
โโโ ๐ quark-manager.sh                    # โญ ะะดะธะฝัะน ัะบัะธะฟั ัะฟัะฐะฒะปะตะฝะธั โ ะะะะะะะะ
โโโ ๐ณ docker-compose.yml                  # ะัะบะตัััะฐัะธั ัะตัะฒะธัะพะฒ
โโโ ๐ README.md                           # ะญัะพั ัะฐะนะป
```

## ๐ฏ ะัััััะน ััะฐัั

### ะะฐะฟััะบ ะฒัะตะน ะฟะปะฐััะพัะผั ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน:
```bash
# ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั ะะะก Quark
./quark-manager.sh start

# ะัะพะฒะตัะธัั ััะฐััั
./quark-manager.sh status

# Health check API
./quark-manager.sh health
```

**ะะพัััะฟะฝัะต endpoints:**
- ๐ **Plugin Hub API**: http://localhost:3000/health
- ๐ **Auth Service API**: http://localhost:3001/auth/health  
- ๐ **Monitoring Dashboard**: http://localhost:3900
- ๐จ **Admin Console**: http://localhost:3100
- ๐ง **Traefik Dashboard**: http://localhost:8080
- ๐ **Vault UI**: http://localhost:8200

## ๐ Security Architecture

### JWT + Vault Integration
- **HashiCorp Vault** ะฒ dev-ัะตะถะธะผะต (ัะพะบะตะฝ: `myroot`)
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ัะพัะฐัะธั ัะตะบัะตัะพะฒ** ะบะฐะถะดัะต 30 ะผะธะฝัั
- **ะขัะธ ัะธะฟะฐ ัะพะบะตะฝะพะฒ**:
  - `User Token`: 24 ัะฐัะฐ (ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน)
  - `Service Token`: 24 ัะฐัะฐ (ะดะปั ะผะตะถัะตัะฒะธัะฝะพะณะพ ะฒะทะฐะธะผะพะดะตะนััะฒะธั)
  - `Hub Token`: 48 ัะฐัะพะฒ (ะดะปั Plugin Hub)

### API Endpoints ะดะปั ะฐััะตะฝัะธัะธะบะฐัะธะธ:
```bash
# ะะตะณะธัััะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปั
POST http://localhost:3001/auth/register

# ะะพะณะธะฝ
POST http://localhost:3001/auth/login

# ะกะพะทะดะฐะฝะธะต Service Token
POST http://localhost:3001/auth/tokens/service

# ะกะพะทะดะฐะฝะธะต Hub Token
POST http://localhost:3001/auth/tokens/hub

# ะะฐะปะธะดะฐัะธั ัะพะบะตะฝะฐ
POST http://localhost:3001/auth/validate
```

## ๐๏ธ ะะฝััะฐััััะบัััะฐ

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั:
- **PostgreSQL** (port 5432) - ะพัะฝะพะฒะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Redis** (port 6379) - ะบัั ะธ ััะฐะฝะธะปะธัะต ัะพััะพัะฝะธะน
- **NATS JetStream** (port 4222) - ัะพะฑััะธะนะฝะฐั ัะธะฝะฐ
- **HashiCorp Vault** (port 8200) - ัะฟัะฐะฒะปะตะฝะธะต ัะตะบัะตัะฐะผะธ
- **Traefik** (ports 80/443/8080) - API Gateway
- **MinIO** (ports 9000/9001) - ะพะฑัะตะบัะฝะพะต ััะฐะฝะธะปะธัะต

## ๐๏ธ ะฃะฟัะฐะฒะปะตะฝะธะต ัะตัะฒะธัะฐะผะธ

```bash
# ะะฐะฟััะบ ะพัะดะตะปัะฝัั ัะตัะฒะธัะพะฒ
./quark-manager.sh start plugin-hub auth-service

# ะััะฐะฝะพะฒะบะฐ ัะตัะฒะธัะพะฒ
./quark-manager.sh stop auth-service

# ะะตัะตะทะฐะฟััะบ
./quark-manager.sh restart plugin-hub

# ะะตัะตัะฑะพัะบะฐ ะพะฑัะฐะทะพะฒ
./quark-manager.sh rebuild auth-service

# ะะพะณะธ ัะตัะฒะธัะพะฒ
./quark-manager.sh logs auth-service

# ะะฝัะตัะฐะบัะธะฒะฝะพะต ะผะตะฝั
./quark-manager.sh menu
```

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- [ะััะธัะตะบัััะฝัะต ัะตัะตะฝะธั](docs/architecture/) - ADR ะดะพะบัะผะตะฝัั
- [API ะะพะบัะผะตะฝัะฐัะธั](docs/api/) - OpenAPI ัะฟะตัะธัะธะบะฐัะธะธ
- [ะะตะทะพะฟะฐัะฝะพััั](docs/security/) - Security guidelines
- [ะะฐะทะฒะตัััะฒะฐะฝะธะต](docs/deployment-runbook.md) - Production deployment
- [ะะพะฝะธัะพัะธะฝะณ](docs/monitoring-strategy.md) - Observability strategy

## ๐ค ะฃัะฐััะธะต ะฒ ัะฐะทัะฐะฑะพัะบะต

ะัะพะตะบั ะธัะฟะพะปัะทัะตั ะะะก-ะฟะพะดัะพะด ะบ ัะฐะทัะฐะฑะพัะบะต:
1. ะะฐะถะดัะน ะผะพะดัะปั ะฝะตะทะฐะฒะธัะธะผ ะธ ะผะพะถะตั ัะฐะทัะฐะฑะฐััะฒะฐัััั ะพัะดะตะปัะฝะพ
2. ะกัะฐะฝะดะฐััะธะทะธัะพะฒะฐะฝะฝัะต ะธะฝัะตััะตะนัั ะดะปั ะธะฝัะตะณัะฐัะธะธ
3. Event-driven ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ัะตัะตะท NATS
4. Comprehensive testing ะธ CI/CD

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. [LICENSE](LICENSE) ัะฐะนะป.

---

**ะะปะฐััะพัะผะฐ Quark** - ะะะก-ะฐััะธัะตะบัััะฐ ะดะปั ัะพะทะดะฐะฝะธั ะผะพะดัะปัะฝัั, ะผะฐัััะฐะฑะธััะตะผัั ะธ ะฑะตะทะพะฟะฐัะฝัั ะฟัะธะปะพะถะตะฝะธะน. ๐
