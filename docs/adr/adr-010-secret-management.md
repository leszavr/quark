# ADR-010: Управление секретами в Quark

## Статус

Принято

## Контекст

В проекте Quark секреты (пароли, токены и другие конфиденциальные данные) ранее хранились непосредственно в файле docker-compose.yml. Это создавало серьезные риски безопасности:

1. Риск утечки секретов при публикации кода
2. Нарушение принципов DevSecOps
3. Сложность управления секретами в разных окружениях

## Решение

1. Создать файл .env в корне проекта для хранения всех секретов
2. Заменить прямые значения на переменные окружения в docker-compose.yml
3. Добавить .env в .gitignore для предотвращения попадания в репозиторий
4. Использовать HashiCorp Vault для управления секретами в production окружении

## Последствия

### Положительные

- Повышенная безопасность проекта
- Упрощенное управление секретами в разных окружениях
- Соответствие принципам DevSecOps
- Возможность использования разных секретов для разных окружений

### Отрицательные

- Необходимость создания файла .env вручную при первом запуске
- Дополнительная документация по настройке окружения

## См. также

- [CRITICAL-CONFIG.md](file:///home/odmen/quark/docs/CRITICAL-CONFIG.md) - критические конфигурации проекта
- Документация HashiCorp Vault