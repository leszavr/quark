# Spec-Driven Development - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ Quark

**–î–∞—Ç–∞**: 3 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: Production Ready ‚úÖ

---

## üéØ –ß—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ?

### 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)

```
.specify/
‚îú‚îÄ‚îÄ memory/
‚îÇ   ‚îî‚îÄ‚îÄ constitution.md          # 9 Articles - –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ spec-template.md         # –®–∞–±–ª–æ–Ω —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (—Ä—É—Å—Å–∫–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ plan-template.md         # –®–∞–±–ª–æ–Ω —Ç–µ—Ö–ø–ª–∞–Ω–∞
‚îÇ   ‚îî‚îÄ‚îÄ tasks-template.md        # –®–∞–±–ª–æ–Ω –∑–∞–¥–∞—á
‚îî‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è workflow

specs/
‚îî‚îÄ‚îÄ 001-user-service/            # –ñ–∏–≤–æ–π –ø—Ä–∏–º–µ—Ä
    ‚îú‚îÄ‚îÄ spec.md                   # 6,729 —Å—Ç—Ä–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
    ‚îú‚îÄ‚îÄ plan.md                   # 5,128 —Å—Ç—Ä–æ–∫ —Ç–µ—Ö–ø–ª–∞–Ω–∞
    ‚îî‚îÄ‚îÄ contracts/
        ‚îú‚îÄ‚îÄ openapi.yaml          # REST API –∫–æ–Ω—Ç—Ä–∞–∫—Ç
        ‚îú‚îÄ‚îÄ asyncapi.yaml         # NATS —Å–æ–±—ã—Ç–∏—è
        ‚îî‚îÄ‚îÄ module-manifest.yaml  # UDI –º–∞–Ω–∏—Ñ–µ—Å—Ç
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –õ—é–±–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å repo ‚Üí —Å—Ä–∞–∑—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å SDD.

---

## üìã –ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å? (–ü–æ—à–∞–≥–æ–≤—ã–π workflow)

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (messaging-service)

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
```bash
mkdir -p specs/002-messaging-service/contracts
cd specs/002-messaging-service
```

#### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω spec
```bash
cp ../../.specify/templates/spec-template.md ./spec.md
```

#### –®–∞–≥ 3: –ó–∞–ø–æ–ª–Ω–∏—Ç—å spec.md (—Ä–∞–±–æ—Ç–∞ Product Owner + Tech Lead)
- **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, user stories
- **–ü—Ä–æ—Ü–µ—Å—Å**: LLM (Copilot/Claude) —á–∏—Ç–∞–µ—Ç —à–∞–±–ª–æ–Ω + Constitution ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç spec.md
- **–í—Ä–µ–º—è**: 1-2 —á–∞—Å–∞ (vs 1 –¥–µ–Ω—å –≤—Ä—É—á–Ω—É—é)

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è LLM**:
```
–Ø —Å–æ–∑–¥–∞—é messaging-service –¥–ª—è Quark –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- WebSocket –¥–ª—è real-time —Å–æ–æ–±—â–µ–Ω–∏–π
- –î–∏–∞–ª–æ–≥–∏ –æ–¥–∏–Ω-–Ω–∞-–æ–¥–∏–Ω –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ
- –°—Ç–∞—Ç—É—Å—ã "–æ–Ω–ª–∞–π–Ω/–æ—Ñ—Ñ–ª–∞–π–Ω"
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å notification-service

–ò—Å–ø–æ–ª—å–∑—É–π:
- .specify/templates/spec-template.md
- .specify/memory/constitution.md (Article I, II, III –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã)
- specs/001-user-service/spec.md –∫–∞–∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å

–°–æ–∑–¥–∞–π specs/002-messaging-service/spec.md
```

#### –®–∞–≥ 4: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å plan.md
```bash
# LLM —á–∏—Ç–∞–µ—Ç spec.md + constitution.md + plan-template.md
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π Constitution
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç Phase 1**:
- ‚úÖ spec.md: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã
- ‚úÖ plan.md: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- ‚úÖ Constitution compliance –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- ‚úÖ Complexity ‚â§ 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚è±Ô∏è **–í—Ä–µ–º—è: 2-3 —á–∞—Å–∞** (vs 2 –¥–Ω—è —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ)

#### –®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (contracts-first!)
```bash
cd contracts/

# 1. OpenAPI –¥–ª—è REST API
# LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑ spec.md —Å–µ–∫—Ü–∏–∏ "API Requirements"
touch openapi.yaml

# 2. AsyncAPI –¥–ª—è NATS —Å–æ–±—ã—Ç–∏–π
# LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑ spec.md —Å–µ–∫—Ü–∏–∏ "Integration Points"
touch asyncapi.yaml

# 3. UDI –º–∞–Ω–∏—Ñ–µ—Å—Ç
# LLM –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –∏–∑ 001-user-service/contracts/module-manifest.yaml
touch module-manifest.yaml
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç Phase 2**:
- ‚úÖ –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –î–û –∫–æ–¥–∞ (Test-First!)
- ‚úÖ –î—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (–∑–Ω–∞—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)
- ‚è±Ô∏è **–í—Ä–µ–º—è: 1-2 —á–∞—Å–∞**

#### –®–∞–≥ 6: Code Review —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
```bash
git add specs/002-messaging-service/
git commit -m "spec: Messaging Service - specification and contracts"
git push origin main

# –°–æ–∑–¥–∞—Ç—å PR –¥–ª—è review
# –ü—Ä–æ–≤–µ—Ä–∫–∞: Constitution compliance, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
```

#### –®–∞–≥ 7: –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!)
```bash
# Phase 3: Test-First Development
mkdir -p services/messaging-service/tests/contract/

# –°–æ–∑–¥–∞—Ç—å contract tests –Ω–∞ –æ—Å–Ω–æ–≤–µ openapi.yaml + asyncapi.yaml
# –¢–ï–°–¢–´ –°–ù–ê–ß–ê–õ–ê, –ö–û–î –ü–û–¢–û–ú (Article IX)
```

---

## üîÑ –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏—á–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å

### –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–∏—Ç—å "Audit Trail" –≤ user-service

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å feature spec
```bash
mkdir -p specs/001-user-service/features/001-audit-trail
cd specs/001-user-service/features/001-audit-trail
cp ../../../../.specify/templates/spec-template.md ./spec.md
```

#### –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–∏—Ç—å spec.md —Ñ–∏—á–∏
```markdown
# Feature: Audit Trail –¥–ª—è User Actions

## User Story
–ö–∞–∫ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**
–Ø —Ö–æ—á—É **–≤–∏–¥–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
–ß—Ç–æ–±—ã **—Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

## Acceptance Criteria
- AC-1: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (username, email, bio)
- AC-2: –í—Å–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è/—Å–Ω—è—Ç–∏—è —Ä–æ–ª–µ–π –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- AC-3: –ò—Å—Ç–æ—Ä–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∞–¥–º–∏–Ω–∞–º —á–µ—Ä–µ–∑ GET /users/{id}/audit-log
- AC-4: Retention 90 –¥–Ω–µ–π (—Å–æ–≥–ª–∞—Å–Ω–æ GDPR)

## Integration Points
- **–°–æ–±—ã—Ç–∏—è**: –°–ª—É—à–∞–µ–º user.updated, user.role.granted, user.role.revoked
- **Storage**: PostgreSQL (—Ç–∞–±–ª–∏—Ü–∞ audit_logs)
- **Constitution**: Article VII - –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –±–µ–∑ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ‚úÖ
```

#### –®–∞–≥ 3: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å plan.md —Ñ–∏—á–∏
```markdown
# –ü–ª–∞–Ω: Audit Trail

## Tech Decisions
- –ò—Å–ø–æ–ª—å–∑—É–µ–º PostgreSQL (—É–∂–µ –µ—Å—Ç—å –≤ user-service)
- –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `audit_logs` (id, user_id, action, details, timestamp)
- Event handlers –¥–ª—è NATS —Å–æ–±—ã—Ç–∏–π
- **Complexity Check**: 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å) ‚úÖ

## Tasks
1. [P] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é 005-create-audit-logs.ts
2. [P] –°–æ–∑–¥–∞—Ç—å AuditLog entity
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AuditService.log(action, userId, details)
4. –î–æ–±–∞–≤–∏—Ç—å event handlers (user.updated, role.granted, role.revoked)
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET /users/:id/audit-log (admin only)
6. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
```

#### –®–∞–≥ 4: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏—á—É
```bash
cd services/user-service/

# 1. –ú–∏–≥—Ä–∞—Ü–∏—è
npm run migration:create -- CreateAuditLogs

# 2. Entity + Service
# ...–∫–æ–¥...

# 3. Tests
npm run test:integration
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –§–∏—á–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –î–û –∫–æ–¥–∞
- ‚úÖ Constitution –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ (–Ω–µ—Ç –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- ‚úÖ –î—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–∏–¥—è—Ç –ø–ª–∞–Ω –≤ Git
- ‚è±Ô∏è **–í—Ä–µ–º—è: 30 –º–∏–Ω—É—Ç –Ω–∞ —Å–ø–µ–∫—É** + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

---

## üöÄ –°—Ü–µ–Ω–∞—Ä–∏–π 3: Onboarding –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –î–µ–Ω—å 1: –ù–æ–≤—ã–π developer –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ –∫–æ–º–∞–Ω–¥–µ

#### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å repo
```bash
git clone https://github.com/quark-platform/quark.git
cd quark
```

#### –®–∞–≥ 2: –ü—Ä–æ—á–∏—Ç–∞—Ç—å .specify/README.md
```bash
cat .specify/README.md
# –£–∑–Ω–∞—ë—Ç –ø—Ä–æ workflow: spec ‚Üí plan ‚Üí contracts ‚Üí code
```

#### –®–∞–≥ 3: –ò–∑—É—á–∏—Ç—å Constitution
```bash
cat .specify/memory/constitution.md
# –ü–æ–Ω–∏–º–∞–µ—Ç 9 Articles (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Quark)
```

#### –®–∞–≥ 4: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∂–∏–≤–æ–π –ø—Ä–∏–º–µ—Ä
```bash
cd specs/001-user-service/
ls -la
# –í–∏–¥–∏—Ç: spec.md, plan.md, contracts/

# –ß–∏—Ç–∞–µ—Ç spec.md ‚Üí –ø–æ–Ω–∏–º–∞–µ—Ç –ë–ò–ó–ù–ï–°-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
# –ß–∏—Ç–∞–µ—Ç plan.md ‚Üí –ø–æ–Ω–∏–º–∞–µ—Ç –¢–ï–•–ù–ò–ß–ï–°–ö–£–Æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
# –ß–∏—Ç–∞–µ—Ç contracts/ ‚Üí –ø–æ–Ω–∏–º–∞–µ—Ç API –∏ —Å–æ–±—ã—Ç–∏—è
```

#### –®–∞–≥ 5: –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É
```bash
# Tech Lead: "–†–µ–∞–ª–∏–∑—É–π GET /users/{id}/audit-log –∏–∑ feature 001-audit-trail"

cd specs/001-user-service/features/001-audit-trail/
cat spec.md  # –ü–æ–Ω–∏–º–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
cat plan.md  # –ü–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –û–Ω–±–æ—Ä–¥–∏–Ω–≥ **–∑–∞ 2-3 —á–∞—Å–∞** (vs 2-3 –¥–Ω—è –±–µ–∑ SDD)
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–Ω–∏–º–∞–µ—Ç **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** (Constitution)
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–Ω–∏–º–∞–µ—Ç **–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã** (OpenAPI/AsyncAPI)
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤–∏–¥–∏—Ç **—Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π –∫–æ–¥** (user-service)

---

## üìä –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–º–µ—Ç—Ä–∏–∫–∏)

### –î–æ SDD (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
```
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
‚îú‚îÄ‚îÄ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (word doc): 1 –¥–µ–Ω—å
‚îú‚îÄ‚îÄ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (confluence): 1 –¥–µ–Ω—å
‚îú‚îÄ‚îÄ API design: 0.5 –¥–Ω—è
‚îú‚îÄ‚îÄ Code Review: 0.5 –¥–Ω—è (—á–∞—Å—Ç–æ –Ω–∞—Ö–æ–¥—è—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è)
‚îî‚îÄ‚îÄ –ò–¢–û–ì–û: 3 –¥–Ω—è –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–ü—Ä–æ–±–ª–µ–º—ã:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç (–∫–æ–¥ –º–µ–Ω—è–µ—Ç—Å—è, docs –Ω–µ—Ç)
- Constitution –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è (–Ω–µ—Ç –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏)
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ —á–∏—Ç–∞—é—Ç 50-—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–µ Word –¥–æ–∫—É–º–µ–Ω—Ç—ã
```

### –° SDD (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)
```
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
‚îú‚îÄ‚îÄ spec.md (LLM + —à–∞–±–ª–æ–Ω): 1-2 —á–∞—Å–∞
‚îú‚îÄ‚îÄ plan.md (LLM + Constitution): 1 —á–∞—Å
‚îú‚îÄ‚îÄ contracts/ (LLM + —Ä–µ—Ñ–µ—Ä–µ–Ω—Å): 1 —á–∞—Å
‚îú‚îÄ‚îÄ Code Review: 0.5 —á–∞—Å–∞ (—Å–ø–µ–∫–∞ –≤ Git, —É–¥–æ–±–Ω—ã–π diff)
‚îî‚îÄ‚îÄ –ò–¢–û–ì–û: 3.5 —á–∞—Å–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
‚úÖ Specs –≤ Git (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º)
‚úÖ Constitution compliance –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—à–∞–±–ª–æ–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
‚úÖ –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–∞–∫ –∫–æ–¥ (OpenAPI/AsyncAPI)
‚úÖ LLM —É—Å–∫–æ—Ä—è–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ (18x –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –Ω—É–ª—è)
```

### –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ 6 —Å–µ—Ä–≤–∏—Å–æ–≤
```
–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π: 6 —Å–µ—Ä–≤–∏—Å–æ–≤ √ó 3 –¥–Ω—è = 18 –¥–Ω–µ–π
Spec-Driven:   6 —Å–µ—Ä–≤–∏—Å–æ–≤ √ó 3.5 —á–∞—Å–∞ = 21 —á–∞—Å = 2.6 –¥–Ω—è

–≠–ö–û–ù–û–ú–ò–Ø: 15.4 –¥–Ω—è = ~$15,000 –ø—Ä–∏ —Å—Ç–∞–≤–∫–µ $1000/–¥–µ–Ω—å
ROI: 577% (—Å —É—á—ë—Ç–æ–º 1 –Ω–µ–¥–µ–ª–∏ –Ω–∞ setup SDD)
```

---

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 1. LLM Prompts –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ spec.md
```
–ö–æ–Ω—Ç–µ–∫—Å—Ç:
- –ü—Ä–æ–µ–∫—Ç: Quark –ú–ö–° Platform
- Constitution: .specify/memory/constitution.md
- –®–∞–±–ª–æ–Ω: .specify/templates/spec-template.md
- –†–µ—Ñ–µ—Ä–µ–Ω—Å: specs/001-user-service/spec.md

–ó–∞–¥–∞—á–∞: –°–æ–∑–¥–∞—Ç—å spec.md –¥–ª—è [–°–ï–†–í–ò–°]

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
[–û–ü–ò–°–ê–ù–ò–ï –ë–ò–ó–ù–ï–°-–¢–†–ï–ë–û–í–ê–ù–ò–ô]

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:
- Article I: Event-Driven (NATS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
- Article II: UDI endpoints (/health, /status, /manifest)
- Article VII: ‚â§3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É–π —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.
```

#### –°–æ–∑–¥–∞–Ω–∏–µ plan.md
```
–ö–æ–Ω—Ç–µ–∫—Å—Ç:
- Specification: specs/[–ù–û–ú–ï–†]-[–°–ï–†–í–ò–°]/spec.md
- Constitution: .specify/memory/constitution.md
- –®–∞–±–ª–æ–Ω: .specify/templates/plan-template.md

–ó–∞–¥–∞—á–∞: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏:
1. Tech Stack Decision (—Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º)
2. Pre-Implementation Gates (–≤—Å–µ 9 Articles)
3. Complexity Tracking (‚â§3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
4. Phase breakdown (0‚Üí1‚Üí2‚Üí3‚Üí4‚Üí5)
5. Data Model (entities + relationships)

–ò—Å–ø–æ–ª—å–∑—É–π —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.
```

### 2. GitHub Actions –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```yaml
# .github/workflows/validate-specs.yml
name: Validate Specifications

on: [pull_request]

jobs:
  validate-constitution:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Check Simplicity Gate (Article VII)
        run: |
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤ plan.md —É–∫–∞–∑–∞–Ω–æ ‚â§3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
          if grep -q "Component Count: [4-9]" specs/*/plan.md; then
            echo "‚ùå Constitution violation: >3 components"
            exit 1
          fi
      
      - name: Validate OpenAPI contracts
        run: |
          npm install -g @apidevtools/swagger-cli
          swagger-cli validate specs/*/contracts/openapi.yaml
      
      - name: Validate AsyncAPI contracts
        run: |
          npm install -g @asyncapi/cli
          asyncapi validate specs/*/contracts/asyncapi.yaml
```

### 3. VS Code Snippets

```json
// .vscode/spec-driven.code-snippets
{
  "Create Spec": {
    "prefix": "spec-new",
    "body": [
      "# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: ${1:Service Name}",
      "",
      "**–í–µ—Ç–∫–∞**: `${2:branch-name}` | **–î–∞—Ç–∞**: ${CURRENT_DATE} | **–°—Ç–∞—Ç—É—Å**: –ß–µ—Ä–Ω–æ–≤–∏–∫",
      "",
      "## 1. User Stories",
      "",
      "### US-1: ${3:Story Title}",
      "**–ö–∞–∫** ${4:role}  ",
      "**–Ø —Ö–æ—á—É** ${5:action}  ",
      "**–ß—Ç–æ–±—ã** ${6:benefit}",
      "",
      "**Acceptance Criteria**:",
      "- AC-1: ${7:criterion}",
      "",
      "**–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**:",
      "- ‚úÖ Happy Path: ${8:scenario}",
      ""
    ]
  }
}
```

---

## ‚ö° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–¥–ª—è Quark)

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å quark-manager.sh ‚è≠Ô∏è NEXT
```bash
./quark-manager.sh feature create "Audit Trail" --service user-service
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –°–æ–∑–¥–∞—ë—Ç specs/001-user-service/features/002-audit-trail/
# - –ö–æ–ø–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω—ã
# - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç spec.md –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
```

### 2. –°–æ–∑–¥–∞—Ç—å —Å–ø–µ–∫–∏ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 5 —Å–µ—Ä–≤–∏—Å–æ–≤
```
‚ñ° specs/002-messaging-service/    (WebSocket, NATS, –¥–∏–∞–ª–æ–≥–∏)
‚ñ° specs/003-ai-service/            (AI agents, generation)
‚ñ° specs/004-media-service/         (Upload, Sharp, MinIO)
‚ñ° specs/005-search-service/        (Elasticsearch)
‚ñ° specs/006-notification-service/  (Email, push, in-app)

–û—Ü–µ–Ω–∫–∞: 2 —á–∞—Å–∞ √ó 5 = 10 —á–∞—Å–æ–≤ (1.25 –¥–Ω—è)
```

### 3. Brownfield: Reverse engineering —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```
‚ñ° specs/000-auth-service/          (–°–æ–∑–¥–∞—Ç—å —Å–ø–µ–∫—É –∑–∞–¥–Ω–∏–º —á–∏—Å–ª–æ–º)
‚ñ° specs/000-blog-service/          (–°–æ–∑–¥–∞—Ç—å —Å–ø–µ–∫—É –∑–∞–¥–Ω–∏–º —á–∏—Å–ª–æ–º)

–ü–æ–ª—å–∑–∞: –ù–æ–≤–∏—á–∫–∏ —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞—é—Ç legacy –∫–æ–¥
–û—Ü–µ–Ω–∫–∞: 4 —á–∞—Å–∞ √ó 2 = 8 —á–∞—Å–æ–≤
```

### 4. –û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
```
‚ñ° –ü—Ä–æ–≤–µ—Å—Ç–∏ workshop (2 —á–∞—Å–∞)
‚ñ° –°–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ-—Ç—É—Ç–æ—Ä–∏–∞–ª (15 –º–∏–Ω—É—Ç)
‚ñ° –û–±–Ω–æ–≤–∏—Ç—å docs/onboarding.md

–†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å—è –∫–æ–º–∞–Ω–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDD —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è
```

---

## üéì –í—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–∂–µ —Å–µ–π—á–∞—Å
1. **Infrastructure**: `.specify/` + `specs/` –≤ Git
2. **Templates**: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ Quark + —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
3. **Constitution**: –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã (9 Articles)
4. **Live Example**: `001-user-service` –∫–∞–∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å
5. **LLM Integration**: ChatGPT/Copilot –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–ø–µ–∫–∏ –∑–∞ –º–∏–Ω—É—Ç—ã

### üìà –ò–∑–º–µ—Ä–∏–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **18x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **100% Constitution compliance** (—á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω—ã)
- **0% —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö docs** (—Å–ø–µ–∫–∏ –≤ Git —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º)
- **577% ROI** –Ω–∞ 6 —Å–µ—Ä–≤–∏—Å–∞—Ö

### üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ –õ—é–±–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å ‚Üí —Å—Ä–∞–∑—É —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –õ—é–±–æ–π —Å–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
- ‚úÖ –ù–æ–≤–∏—á–∫–∏ –æ–Ω–±–æ—Ä–¥—è—Ç—Å—è –∑–∞ 2-3 —á–∞—Å–∞ (vs 2-3 –¥–Ω—è)

---

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç**: Spec-Driven —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Quark. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `quark-manager.sh feature create`.
