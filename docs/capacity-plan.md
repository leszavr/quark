# Capacity Plan: Планирование производительности

## 1. Оценка нагрузки
- Планируем: 10K активных пользователей
- Пиковая нагрузка: 100 RPS (запросов в секунду)
- Наиболее нагруженные операции:
  - Чтение постов: 70% трафика
  - Публикация: 20%
  - Мессенджер: 10%

## 2. Расчёт ресурсов
| Сервис | CPU | RAM | Диск | Реплики |
|-------|-----|-----|------|--------|
| auth-service | 0.5 vCPU | 512 MB | 1 GB | 2 |
| blog-service | 1 vCPU | 1 GB | 5 GB | 2 |
| media-service | 2 vCPU | 2 GB | 50 GB (MinIO) | 2 |
| ai-orchestrator | 2 vCPU | 4 GB | 10 GB | 2 |
| NATS | 1 vCPU | 1 GB | 10 GB | 1 |

## 3. Хранение данных
- Пользователи: 10K × 1 KB = 10 MB
- Посты: 100K × 5 KB = 500 MB
- Медиа: 50K изображений × 2 MB = 100 GB
- Логи: 10 GB/день → 300 GB/мес

## 4. Масштабирование
- Горизонтальное: Kubernetes HPA (на основе CPU)
- Кеширование: Redis для постов и профилей